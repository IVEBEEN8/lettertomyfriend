<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>love letter</title>
  <meta name="language" content="ko">
  <link rel="icon" type="image/x-icon" href="https://cdn.jsdelivr.net/gh/sun0225SUN/photos/img/20210715233345.png">
  <link type="text/css" rel="stylesheet" href="css/theme.css" />
  <script src="js/jquery-2.0.3.min.js"></script>
</head>

<body>
  <div id="div_container">
    <!-- 가장 바깥쪽 div, 중앙 호환 PC 및 모바일용 -->
    <div id="div_start_bg"></div>
    <div id="div_onlyyou">
      <!-- 배경 설정 -->
      <div id="div_oy_inner">
        <!-- 컨텐츠 저장에 사용 -->
        <div class="div_oy_text">
          <h1></h1>
          <img class="img_oy_text" src="" />
          <p class="p_oy_text"></p>
          <div></div>

          <ul id="ul_oy_benefit">
            <li class="li_oy_benefit"></li>
            <li class="li_oy_benefit"></li>
            <li class="li_oy_benefit"></li>
            <li class="li_oy_benefit"></li>
            <li class="li_oy_benefit"></li>
            <li class="li_oy_benefit"></li>
            <li class="li_oy_benefit"></li>
            <li class="li_oy_benefit"></li>
            <li class="li_oy_benefit"></li>
            <li class="li_oy_benefit"></li>
            <li class="li_oy_benefit"></li>
            <li class="li_oy_benefit"></li>
            <li class="li_oy_benefit"></li>
            <li class="li_oy_benefit"></li>
            <li class="li_oy_benefit"></li>
            <li class="li_oy_benefit"></li>
            <li class="li_oy_benefit"></li>
            <li class="li_oy_benefit"></li>
            <li class="li_oy_benefit"></li>
            <li class="li_oy_benefit"></li>
          </ul>
        </div>
        <ul id="ul_oy_btn">

          <li onclick="oy_go_next()">Yes&nbsp;&nbsp;❤</li>
          <li onclick="oy_show_benefit()">No&nbsp;&nbsp;✖</li>
        </ul>
        <div id="div_oy_note" onclick="oy_hide_note()">
          <img src="images/yes.jpeg" alt="" /><br />YES -_- !!
          <div id="div_oy_note_close">✖</div>
        </div>
        <div id="div_oy_yes">
          <img src="images/emoji_bixin.jpg" alt="" /><br />행복해서 기절!
        </div>
      </div>
    </div>
    <div class="div_pure_words">
      <div class="div_pure_words_bg">
        <div class="div_pure_words_height"></div>
      </div>
      <div class="div_pw_typed">
        <span id="span_pw_typed"></span>
      </div>
    </div>
    <div id="div_btn_container">
      <div id="div_btn_inner">

        <div class="div_music_tips"></div>
        <div class="div_btn" id="div_music" onclick="music_switch()">
          <!-- 음악 버튼 -->
          <img id="img_music" src="images/music_note_big.png"
            style="-webkit-animation: music_play_rotate 1s linear infinite;" />
          <!-- 브라우저에서 음악 재생을 지원하지 않습니다 -->
          <audio id="audio_music" autoplay="autoplay" loop="loop">
            <source type="audio/mpeg" />
          </audio>
        </div>
        <div class="div_record_tips"></div>
        <div class="div_btn" id="div_record" onclick="record_switch()">
          <audio id="audio_record" loop="loop">
            <source type="audio/mpeg" />
          </audio>
        </div>

      </div>

    </div>

  </div>


  <script>
    // 클라이언트 디바이스 판단, 메타데이터 쓰기
    function init_viewport() {
      if (navigator.userAgent.indexOf("Android") != -1) {
        var version = parseFloat(RegExp.$1);
        if (version > 2.3) {
          var width =
            window.outerWidth == 0 ? window.screen.width : window.outerWidth;
          var phoneScale = parseInt(width) / 500;
          document.write(
            '<meta name="viewport" content="width=500, minimum-scale = ' +
            phoneScale +
            ", maximum-scale = " +
            phoneScale +
            ', target-densitydpi=device-dpi">'
          );
        } else {
          document.write(
            '<meta name="viewport" content="width=500, target-densitydpi=device-dpi, user-scalable=0">'
          );
        }
      } else if (navigator.userAgent.indexOf("iPhone") != -1) {
        var phoneScale = parseInt(window.screen.width) / 500;
        document.write(
          '<meta name="viewport" content="width=500, min-height=750, initial-scale=' +
          phoneScale +
          ", maximum-scale=" +
          phoneScale +
          ', user-scalable=0" /> '
        ); //0.75   0.82
      } else {
        document.write(
          '<meta name="viewport" content="width=500, height=750, initial-scale=0.64" /> '
        ); //0.75  0.82
      }
    }
    init_viewport();

    // 날짜 구하기
    var today = new Date();   

    var year = today.getFullYear(); // 년도
    var month = today.getMonth() + 1;  // 월
    var date = today.getDate();  // 날짜
    var day = today.getDay();  // 요일
    var hours = today.getHours(); // 시
    var minutes = today.getMinutes();  // 분
    var seconds = today.getSeconds();  // 초

    var theme = "pure_words";
    console.log("theme ->" + theme);
    var theme_content = {
      pure_words_content:
        `<br><br><br>공주양💛💛

합격을 진심으로 축하해! 지금 ${year}년 ${month}월 ${date}일 ${hours}시 ${minutes}분, <br>이 순간부터 너의 새로운 시작을 응원할게!!!!!

너무 너무 너무 고생 많았어..ㅠㅠ <br>매일매일 노력하고 성장하는 널 보면서, 나도 덩달아 감동이 마구마구 올라왔었어. <br>네가 잘되기를 간절히 바랐고, 이렇게 좋은 소식을 듣게 되서 뿌듯하고 행복해 ㅠㅠ 그래서 니가 좋아하는 데이식스 원필의 '행운을 빌어줘'를 bgm으로 선곡해봤는데.. 우때 ? 맘에들어 ? 앞으로도 유깅이의 앞길에 행운이 가득하길 빌어줄께!!!

더 빛나고, 더 좋은 모습으로 발전하는 너를 기대할께!!<br>이번 합격은 매일 새벽 5시까지 안자구 꿋꿋이 개발한 네 끈기와 열정이 만든 결과야👍🏻👍🏻👍🏻 미래에 있을 새로운 도전과 환경에서도 늘 당당하고 자신 있게 나아가길 바라!!👏🏻👏🏻

힘들고 지칠 때마다 네가 걸어왔던 길을 돌아보며 힘을 얻었으면 좋겠어! 그리고 너 주변엔 결과에 상관없이 항상 너를 응원하는 사람들이 있단걸 잊지마!!

다시 한 번 진심으로 축하해~ 공주💕 그리고 마지막 면접도 <br>열심히 준비해서 꼭 좋은 결과 얻었으면 좋겠다!! <br>자신감을 잃지 말고, 널 믿어!! 충분히 잘 해낼 수 있어! 네가 어디에 있든, 뭘 하든, 항상 너를 응원하고 있을게.

귀여운 희워니가💕 <br><br><br> (음원 저작권있뜸.. 조심하쟈^^......)`,

      typed_bool: "typed_y",
      cursor_char: "cursor_heart",
      bg_style_pure_words: "bg_opacity",
      bg_style: "bg_custom",
      bg_img: "images/hey2.jpeg",
      
    };
    console.log(theme_content);

    var music_json = {
      music_select: "m_online",
      m_online_id: "7",
      m_online_url: "images/heehee.mp3",
      m_upload_name: "null",
      m_upload_url: "null",
    };
    console.log(music_json);
    var record_json = {
      record_bool: "r_false",
      r_wechat_time: "null",
      r_wechat_url: "null",
      r_wechat_amr: "null",
    };
    console.log(record_json);

    var main_title = "I Love You ❤️";

    // console.log(main_title);
    if (main_title == "" || main_title == "null") {
      // 제목이 빈 경우 아래 타이틀 삽입
      document.title = "I Love You ❤️";
    }

    var window_height = $(window).height();
    console.log("window_height ->" + window_height);
    var pure_words_content = theme_content["pure_words_content"];
    var str_cursorChar;
    var typed_bool;
    var interval_pw_height;
    var height_div_pw = $(".div_pure_words_height").height();

    function init_pure_words() {
      $(".div_pure_words_height").html(pure_words_content + "22222"); // 복사 내용을 초기화하고 문서 높이를 늘립니다
      // div의 bg 그림 초기화 설정
      if (
        typeof theme_content["bg_style_pure_words"] != "undefined" &&
        theme_content["bg_style_pure_words"] == "bg_opacity"
      ) {
        if (
          typeof theme_content["bg_img"] != "undefined" &&
          theme_content["bg_img"] != ""
        ) {
          $(".div_pure_words_bg").css({
            "background-image": "url(" + theme_content["bg_img"] + ")",
          });
        }
      }
      // 다음은 타이핑 효과의 js입니다.
      if (
        typeof theme_content["cursor_char"] != "undefined" &&
        theme_content["cursor_char"] != ""
      ) {
        switch (
        theme_content["cursor_char"] // 타이핑 커서 스타일 설정
        ) {
          case "cursor_heart":
            str_cursorChar = '<um style="color: #F44336;">❤</um>';
            break;
          case "cursor_sub":
            str_cursorChar = "_";
            break;
          case "cursor_music":
            str_cursorChar = "♫";
            break;
          case "cursor_star":
            str_cursorChar = "★";
            break;
          case "cursor_sun":
            str_cursorChar = "☀";
            break;
          default:
            str_cursorChar = "|";
        }
      } else {
        // 새로운 작품을 처리하고, 기본적으로 타이핑 효과를 표시합니다.
        str_cursorChar = "❤";
      }

      // 사용자가 타이핑 효과를 선택했는지 여부를 판단하다
      if (
        typeof theme_content["typed_bool"] != "undefined" &&
        theme_content["typed_bool"] != ""
      ) {
        typed_bool = theme_content["typed_bool"] == "typed_y" ? true : false;
      } else {
        typed_bool = false; // 기본적으로 타이핑 효과 보이기
      }

      display_pure_words();
      $(".div_pure_words").fadeIn();

      interval_pw_height = setInterval(function () {
        console.log(
          "div_pure_words_height -> " + $(".div_pure_words_height").height()
        );
        var least_height_div_pw = $(".div_pure_words_height").height();
        if (least_height_div_pw > height_div_pw) {
          height_div_pw = least_height_div_pw;
        } else {
          clearInterval(interval_pw_height);
          $(".div_pure_words_height").height(least_height_div_pw + 100);
          if ($(".div_pure_words_height").height() < window_height) {
            $(".div_pure_words_height").height(window_height); // 창 높이보다 작을 수 없음
            console.log("let us be high as window");
          }
        }
      }, 100);
    }

    function display_pure_words() {
      if (typed_bool) {
        var typed_pure_words = new Typed("#span_pw_typed", {
          strings: [pure_words_content], // 내용 입력, HTML 태그 지원
          typeSpeed: 80, // 타이핑 속도
          cursorChar: str_cursorChar, // 커서 스타일 바꾸기
          contentType: "html", // 값이 html일 경우 인쇄된 텍스트 라벨을 html 라벨로 직접 해석
          onComplete: function (abc) {
            // console.log(abc);
            console.log("finished typing words");
            // console.log($('#span_pw_typed').height()-$(".div_pure_words_height").height());
          },
        });
      } else {
        // 타이핑이 필요하지 않으면 바로 표시
        $("#span_pw_typed").html(pure_words_content).fadeIn();
      }
      init_attachment();
    }

    var start_content = {
      chase_title:
        "To. 유깅이❣️",
      chase_text:
        "합격 메세지 받으셨나요?<br><br>면접만 잘하면 되는건가요?<br>합격하셨으니 제가 한국으로 놀러가도 되는건가요?<br>맛집도 가고, 여행도 갈 준비가 되신건가요?<br><br><um style='color: #F44336; font-weight: 300;'>행복할 준비 되셨나요?</um>",
      chase_benefit: [
        "ㅡㅡ왜 안행복해. 행복하다고 해.",
        "앵 왜 실화냐 ? 행복하다고해!!!!!",
        "베스킨 민초 ㄱㄱ?",
        "상록수 항정살 ㄱㄱ?",
        "에이 이 정도면 억지세여. 예.. 예 예..",
        "<um style='color: #F44336;font-weight: 300;'>yes ? yes ?</um>"
      ],
      bg_style: "bg_custom",
      bg_img: "images/hey.gif",
      img_bool: "img_true",

    }; // null일 수 있음
    console.log(start_content);
    var start_id;
    $(function () {
      // 이 이벤트는 인터랙티브한 아이디어를 촉발합니다
      start_id = "onlyyou"; // null일 수 있음
      init_start(start_id);
    });

    function init_start(start_id) {
      console.log("init_start ->" + start_id);
      switch (start_id) {
        case "loveformat":
          $(".div_loveformat").show();
          init_loveformat();
          break;
        case "hearttree":
          $("#div_hearttree").show();
          init_hearttree();
          break;
        case "courage":
          $("#div_courage").show();
          init_courage();
          break;
        case "birthdaycake":
          $("#div_dbcake").show();
          init_birthdaycake();
          break;
        case "intersect":
          $("#div_intersect").show();
          init_intersect();
          break;
        case "onlyyou":
          $("#div_onlyyou").show();
          init_onlyyou();
          break;
        default:
          init_theme();
      }
    }

    // 애니메이션 본체 시작
    function init_theme() {
      console.log("init_theme");

      // 날짜 구하기
      year = today.getFullYear(); // 년도
      month = today.getMonth() + 1;  // 월
      date = today.getDate();  // 날짜
      day = today.getDay();  // 요일
      hours = today.getHours(); // 시
      minutes = today.getMinutes();  // 분
      seconds = today.getSeconds();  // 초
      
      $("#div_start_bg").fadeOut();
      init_pure_words();
    }
    var attachment = "null"; // null일 수 있음
    var attached_content = {
      bool_save: false,
    }; // null일 수 있음
    console.log(attached_content);

    function init_attachment() {
      // attachment 시작
      console.log("init_attachment ->" + attachment);
      switch (attachment) {
        case "timer":
          init_at_timer();
          break;
        default:
          return;
      }
    }
  </script>

  <!-- JQuery -->
  <script src="js/typed.min.js"></script>
  <script src="js/start_onlyyou.js"></script>
  <script src="js/jweixin-1.2.0.js"></script>
  <script src="js/theme_common.js"></script>
</body>

</html>
